webpackJsonp([1],{DpeP:function(e,t){},Indd:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),r=n("mvHQ"),i=n.n(r),o={name:"App",mounted:function(){window.addEventListener("unload",this.saveState)},methods:{saveState:function(){window.sessionStorage.setItem("state",i()(this.$store.state.user))}}},a={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("h1",[this._v("justice")]),this._v(" "),t("router-link",{attrs:{to:"/login"}},[this._v("登录页")]),this._v(" "),t("router-link",{attrs:{to:"/main"}},[this._v("首页")]),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var l=n("VU/8")(o,a,!1,function(e){n("Indd")},null,null).exports,u=n("/ocq"),d={name:"Main",methods:{logout:function(){window.sessionStorage.clear(),this.$router.push("/login")}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-container",[n("el-aside",{attrs:{width:"200px"}},[n("el-menu",{attrs:{"default-openeds":["1"]}},[n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-caret-right"}),e._v("用户管理")]),e._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"1-1"}},[n("router-link",{attrs:{to:{name:"UserProfile",params:{id:1,name:"justice"}}}},[e._v("个人信息")])],1),e._v(" "),n("el-menu-item",{attrs:{index:"1-2"}},[n("router-link",{attrs:{to:"/user/list"}},[e._v("用户列表")])],1),e._v(" "),n("el-menu-item",{attrs:{index:"1-3"}},[n("router-link",{attrs:{to:"/goHome"}},[e._v("回到首页")])],1)],1)],2),e._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-caret-right"}),e._v("内容管理")]),e._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"2-1"}},[e._v("分类管理")]),e._v(" "),n("el-menu-item",{attrs:{index:"2-2"}},[e._v("内容列表")])],1)],2),e._v(" "),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-caret-right"}),e._v("系统管理")]),e._v(" "),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"3-1"}},[e._v("用户设置")])],1)],2)],1)],1),e._v(" "),n("el-container",[n("el-header",{staticStyle:{"text-align":"right","font-size":"12px"}},[n("el-dropdown",[n("i",{staticClass:"el-icon-setting",staticStyle:{"margin-right":"15px"}}),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("个人信息")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出登录")])],1)],1),e._v(" "),n("span",[e._v(e._s(this.$store.getters.getUser.name))])],1),e._v(" "),n("el-main",[n("router-view")],1)],1)],1)],1)},staticRenderFns:[]};var m=n("VU/8")(d,c,!1,function(e){n("DpeP")},"data-v-e99772ac",null).exports,p={name:"Login",data:function(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"账号不可为空",trigger:"blur"}],password:[{required:!0,message:"密码不可为空",trigger:"blur"}]},dialogVisible:!1}},methods:{onSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.dialogVisible=!0,!1;window.sessionStorage.setItem("islogin","true"),t.$store.dispatch("asyncUpdateUser",{name:t.form.username}),t.$router.push("/main")})}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{ref:"loginForm",staticClass:"login-box",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[n("h3",{staticClass:"login-title"},[e._v("欢迎登录")]),e._v(" "),n("el-form-item",{attrs:{label:"账号",prop:"username"}},[n("el-input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"password"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("loginForm")}}},[e._v("登录")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"温馨提示",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("span",[e._v("请输入账号和密码")]),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var f=n("VU/8")(p,v,!1,function(e){n("y7gL")},"data-v-683f9ed8",null).exports,h={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("用户列表")])},staticRenderFns:[]};var g=n("VU/8")({name:"UserList"},h,!1,function(e){n("gzrv")},"data-v-4e7cb0a2",null).exports,_={name:"UserProfile",props:["id","name"],beforeRouteEnter:function(e,t,n){console.log("进入路由之前"),n(function(e){e.getData()})},beforeRouteLeave:function(e,t,n){console.log("进入路由之后"),n()},methods:{getData:function(){this.axios({method:"get",url:"http://localhost:8080/static/mock/data.json"}).then(function(e){console.log(e)})}}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("个人信息")]),this._v(" "),this._v("\n  "+this._s(this.id)+"\n  "+this._s(this.name)+"\n")])},staticRenderFns:[]};var b=n("VU/8")(_,w,!1,function(e){n("QE9W")},"data-v-70c91d06",null).exports,x={render:function(){var e=this.$createElement;return(this._self._c||e)("h1",[this._v("404页面走丢了")])},staticRenderFns:[]};var U=n("VU/8")({name:"NotFound"},x,!1,function(e){n("rUkm")},"data-v-77b7db95",null).exports,S=n("mtWM"),k=n.n(S),$=n("DWlv"),y=n.n($);s.default.use(y.a,k.a),s.default.use(u.a);var E=new u.a({routes:[{path:"/main",name:"main",component:m,props:!0,children:[{path:"/user/profile/:id/:name",name:"UserProfile",component:b,props:!0},{path:"/user/list",component:g}]},{path:"/login",name:"login",component:f},{path:"/goHome",redirect:"/main"},{path:"*",component:U}]}),V=n("zL8q"),R=n.n(V),F=(n("tvR6"),n("NYxO")),C={state:null!=window.sessionStorage.getItem("state")?JSON.parse(window.sessionStorage.getItem("state")):{user:{name:""}},getters:{getUser:function(e){return e.user}},mutations:{updateUser:function(e,t){e.user=t}},actions:{asyncUpdateUser:function(e,t){e.commit("updateUser",t)}}};s.default.use(F.a);var I=new F.a.Store({modules:{user:C}});s.default.config.productionTip=!1,s.default.use(E),s.default.use(R.a),s.default.use(F.a),E.beforeEach(function(e,t,n){var s=window.sessionStorage.getItem("islogin");"/logout"==e.path?(window.sessionStorage.clear(),n("/login")):"/login"==e.path?null!=s&&n("/main"):null==s&&n("/login"),n()}),new s.default({el:"#app",router:E,store:I,render:function(e){return e(l)}})},QE9W:function(e,t){},gzrv:function(e,t){},rUkm:function(e,t){},tvR6:function(e,t){},y7gL:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.4a43e82813a54d0dbaf4.js.map